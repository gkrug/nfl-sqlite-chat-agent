-- nflfastR_pbp is the play by play table for each game since 1999. Use team_stats table below for team stats questions which aggregates by each game. --

IMPORTANT: This table contains individual play data. For team-level statistics:
- Use the team_stats table for aggregated team performance (wins, losses, EPA, etc.)
- For team passing/rushing yards, you need to aggregate from individual player stats
- Teams appear in both home_team and away_team columns - you must consider BOTH for complete team stats
- passing_yards field is for individual plays, not team totals

For team passing yards queries:
- Aggregate passing_yards by team (considering both home_team and away_team)
- Use SUM() to get total team passing yards
- Consider both home and away games for complete season stats

Example correct query for team passing yards:
SELECT 
  CASE 
    WHEN home_team = 'HOU' THEN home_team 
    WHEN away_team = 'HOU' THEN away_team 
  END as team,
  SUM(passing_yards) as total_passing_yards
FROM nflfastR_pbp 
WHERE season = 2023 
  AND (home_team = 'HOU' OR away_team = 'HOU')
GROUP BY team

play_id: REAL
game_id: TEXT
old_game_id: TEXT
home_team: TEXT
away_team: TEXT
season_type: TEXT
week: INTEGER
posteam: TEXT
posteam_type: TEXT
defteam: TEXT
side_of_field: TEXT
yardline_100: REAL
game_date: TEXT
quarter_seconds_remaining: REAL
half_seconds_remaining: REAL
game_seconds_remaining: REAL
game_half: TEXT
quarter_end: REAL
drive: REAL
sp: REAL
qtr: REAL
down: REAL
goal_to_go: REAL
time: TEXT
yrdln: TEXT
ydstogo: REAL
ydsnet: REAL
desc: TEXT
play_type: TEXT
yards_gained: REAL
shotgun: REAL
no_huddle: REAL
qb_dropback: REAL
qb_kneel: REAL
qb_spike: REAL
qb_scramble: REAL
pass_length: TEXT
pass_location: TEXT
air_yards: REAL
yards_after_catch: REAL
run_location: TEXT
run_gap: TEXT
field_goal_result: TEXT
kick_distance: REAL
extra_point_result: TEXT
two_point_conv_result: TEXT
home_timeouts_remaining: REAL
away_timeouts_remaining: REAL
timeout: REAL
timeout_team: TEXT
td_team: TEXT
td_player_name: TEXT
td_player_id: TEXT
posteam_timeouts_remaining: REAL
defteam_timeouts_remaining: REAL
total_home_score: REAL
total_away_score: REAL
posteam_score: REAL
defteam_score: REAL
score_differential: REAL
posteam_score_post: REAL
defteam_score_post: REAL
score_differential_post: REAL
no_score_prob: REAL
opp_fg_prob: REAL
opp_safety_prob: REAL
opp_td_prob: REAL
fg_prob: REAL
safety_prob: REAL
td_prob: REAL
extra_point_prob: REAL
two_point_conversion_prob: REAL
ep: REAL
epa: REAL
total_home_epa: REAL
total_away_epa: REAL
total_home_rush_epa: REAL
total_away_rush_epa: REAL
total_home_pass_epa: REAL
total_away_pass_epa: REAL
air_epa: REAL
yac_epa: REAL
comp_air_epa: REAL
comp_yac_epa: REAL
total_home_comp_air_epa: REAL
total_away_comp_air_epa: REAL
total_home_comp_yac_epa: REAL
total_away_comp_yac_epa: REAL
total_home_raw_air_epa: REAL
total_away_raw_air_epa: REAL
total_home_raw_yac_epa: REAL
total_away_raw_yac_epa: REAL
wp: REAL
def_wp: REAL
home_wp: REAL
away_wp: REAL
wpa: REAL
vegas_wpa: REAL
vegas_home_wpa: REAL
home_wp_post: REAL
away_wp_post: REAL
vegas_wp: REAL
vegas_home_wp: REAL
total_home_rush_wpa: REAL
total_away_rush_wpa: REAL
total_home_pass_wpa: REAL
total_away_pass_wpa: REAL
air_wpa: REAL
yac_wpa: REAL
comp_air_wpa: REAL
comp_yac_wpa: REAL
total_home_comp_air_wpa: REAL
total_away_comp_air_wpa: REAL
total_home_comp_yac_wpa: REAL
total_away_comp_yac_wpa: REAL
total_home_raw_air_wpa: REAL
total_away_raw_air_wpa: REAL
total_home_raw_yac_wpa: REAL
total_away_raw_yac_wpa: REAL
punt_blocked: REAL
first_down_rush: REAL
first_down_pass: REAL
first_down_penalty: REAL
third_down_converted: REAL
third_down_failed: REAL
fourth_down_converted: REAL
fourth_down_failed: REAL
incomplete_pass: REAL
touchback: REAL
interception: REAL
punt_inside_twenty: REAL
punt_in_endzone: REAL
punt_out_of_bounds: REAL
punt_downed: REAL
punt_fair_catch: REAL
kickoff_inside_twenty: REAL
kickoff_in_endzone: REAL
kickoff_out_of_bounds: REAL
kickoff_downed: REAL
kickoff_fair_catch: REAL
fumble_forced: REAL
fumble_not_forced: REAL
fumble_out_of_bounds: REAL
solo_tackle: REAL
safety: REAL
penalty: REAL
tackled_for_loss: REAL
fumble_lost: REAL
own_kickoff_recovery: REAL
own_kickoff_recovery_td: REAL
qb_hit: REAL
rush_attempt: REAL
pass_attempt: REAL
sack: REAL
touchdown: REAL
pass_touchdown: REAL
rush_touchdown: REAL
return_touchdown: REAL
extra_point_attempt: REAL
two_point_attempt: REAL
field_goal_attempt: REAL
kickoff_attempt: REAL
punt_attempt: REAL
fumble: REAL
complete_pass: REAL
assist_tackle: REAL
lateral_reception: REAL
lateral_rush: REAL
lateral_return: REAL
lateral_recovery: REAL
passer_player_id: TEXT
passer_player_name: TEXT
passing_yards: REAL
receiver_player_id: TEXT
receiver_player_name: TEXT
receiving_yards: REAL
rusher_player_id: TEXT
rusher_player_name: TEXT
rushing_yards: REAL
lateral_receiver_player_id: TEXT
lateral_receiver_player_name: TEXT
lateral_receiving_yards: REAL
lateral_rusher_player_id: TEXT
lateral_rusher_player_name: TEXT
lateral_rushing_yards: REAL
lateral_sack_player_id: TEXT
lateral_sack_player_name: TEXT
interception_player_id: TEXT
interception_player_name: TEXT
lateral_interception_player_id: TEXT
lateral_interception_player_name: TEXT
punt_returner_player_id: TEXT
punt_returner_player_name: TEXT
lateral_punt_returner_player_id: TEXT
lateral_punt_returner_player_name: TEXT
kickoff_returner_player_name: TEXT
kickoff_returner_player_id: TEXT
lateral_kickoff_returner_player_id: TEXT
lateral_kickoff_returner_player_name: TEXT
punter_player_id: TEXT
punter_player_name: TEXT
kicker_player_name: TEXT
kicker_player_id: TEXT
own_kickoff_recovery_player_id: TEXT
own_kickoff_recovery_player_name: TEXT
blocked_player_id: TEXT
blocked_player_name: TEXT
tackle_for_loss_1_player_id: TEXT
tackle_for_loss_1_player_name: TEXT
tackle_for_loss_2_player_id: TEXT
tackle_for_loss_2_player_name: TEXT
qb_hit_1_player_id: TEXT
qb_hit_1_player_name: TEXT
qb_hit_2_player_id: TEXT
qb_hit_2_player_name: TEXT
forced_fumble_player_1_team: TEXT
forced_fumble_player_1_player_id: TEXT
forced_fumble_player_1_player_name: TEXT
forced_fumble_player_2_team: TEXT
forced_fumble_player_2_player_id: TEXT
forced_fumble_player_2_player_name: TEXT
solo_tackle_1_team: TEXT
solo_tackle_2_team: TEXT
solo_tackle_1_player_id: TEXT
solo_tackle_2_player_id: TEXT
solo_tackle_1_player_name: TEXT
solo_tackle_2_player_name: TEXT
assist_tackle_1_player_id: TEXT
assist_tackle_1_player_name: TEXT
assist_tackle_1_team: TEXT
assist_tackle_2_player_id: TEXT
assist_tackle_2_player_name: TEXT
assist_tackle_2_team: TEXT
assist_tackle_3_player_id: TEXT
assist_tackle_3_player_name: TEXT
assist_tackle_3_team: TEXT
assist_tackle_4_player_id: TEXT
assist_tackle_4_player_name: TEXT
assist_tackle_4_team: TEXT
tackle_with_assist: REAL
tackle_with_assist_1_player_id: TEXT
tackle_with_assist_1_player_name: TEXT
tackle_with_assist_1_team: TEXT
tackle_with_assist_2_player_id: TEXT
tackle_with_assist_2_player_name: TEXT
tackle_with_assist_2_team: TEXT
pass_defense_1_player_id: TEXT
pass_defense_1_player_name: TEXT
pass_defense_2_player_id: TEXT
pass_defense_2_player_name: TEXT
fumbled_1_team: TEXT
fumbled_1_player_id: TEXT
fumbled_1_player_name: TEXT
fumbled_2_player_id: TEXT
fumbled_2_player_name: TEXT
fumbled_2_team: TEXT
fumble_recovery_1_team: TEXT
fumble_recovery_1_yards: REAL
fumble_recovery_1_player_id: TEXT
fumble_recovery_1_player_name: TEXT
fumble_recovery_2_team: TEXT
fumble_recovery_2_yards: REAL
fumble_recovery_2_player_id: TEXT
fumble_recovery_2_player_name: TEXT
sack_player_id: TEXT
sack_player_name: TEXT
half_sack_1_player_id: TEXT
half_sack_1_player_name: TEXT
half_sack_2_player_id: TEXT
half_sack_2_player_name: TEXT
return_team: TEXT
return_yards: REAL
penalty_team: TEXT
penalty_player_id: TEXT
penalty_player_name: TEXT
penalty_yards: REAL
replay_or_challenge: REAL
replay_or_challenge_result: TEXT
penalty_type: TEXT
defensive_two_point_attempt: REAL
defensive_two_point_conv: REAL
defensive_extra_point_attempt: REAL
defensive_extra_point_conv: REAL
safety_player_name: TEXT
safety_player_id: TEXT
season: INTEGER
cp: REAL
cpoe: REAL
series: REAL
series_success: REAL
series_result: TEXT
order_sequence: REAL
start_time: TEXT
time_of_day: TEXT
stadium: TEXT
weather: TEXT
nfl_api_id: TEXT
play_clock: TEXT
play_deleted: REAL
play_type_nfl: TEXT
special_teams_play: REAL
st_play_type: TEXT
end_clock_time: TEXT
end_yard_line: TEXT
fixed_drive: REAL
fixed_drive_result: TEXT
drive_real_start_time: TEXT
drive_play_count: REAL
drive_time_of_possession: TEXT
drive_first_downs: REAL
drive_inside20: REAL
drive_ended_with_score: REAL
drive_quarter_start: REAL
drive_quarter_end: REAL
drive_yards_penalized: REAL
drive_start_transition: TEXT
drive_end_transition: TEXT
drive_game_clock_start: TEXT
drive_game_clock_end: TEXT
drive_start_yard_line: TEXT
drive_end_yard_line: TEXT
drive_play_id_started: REAL
drive_play_id_ended: REAL
away_score: INTEGER
home_score: INTEGER
location: TEXT
result: INTEGER
total: INTEGER
spread_line: REAL
total_line: REAL
div_game: INTEGER
roof: TEXT
surface: TEXT
temp: INTEGER
wind: INTEGER
home_coach: TEXT
away_coach: TEXT
stadium_id: TEXT
game_stadium: TEXT
aborted_play: REAL
success: REAL
passer: TEXT
passer_jersey_number: INTEGER
rusher: TEXT
rusher_jersey_number: INTEGER
receiver: TEXT
receiver_jersey_number: INTEGER
pass: REAL
rush: REAL
first_down: REAL
special: REAL
play: REAL
passer_id: TEXT
rusher_id: TEXT
receiver_id: TEXT
name: TEXT
jersey_number: INTEGER
id: TEXT
fantasy_player_name: TEXT
fantasy_player_id: TEXT
fantasy: TEXT
fantasy_id: TEXT
out_of_bounds: REAL
home_opening_kickoff: REAL
qb_epa: REAL
xyac_epa: REAL
xyac_mean_yardage: REAL
xyac_median_yardage: REAL
xyac_success: REAL
xyac_fd: REAL
xpass: REAL
pass_oe: REAL
